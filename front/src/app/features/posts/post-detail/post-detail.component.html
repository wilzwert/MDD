@if (post$ | async; as post) {
    <article class="element-detail">
        <header>
            <h1>{{ post.title }}</h1>
        </header>
        <section class="element-info">
            <span>{{ post.createdAt | date:'dd/MM/YYYY'}}</span> <span> {{ post.author.userName}} </span>  <span> {{ post.topic.title}}</span>
        </section>
        <section class="element-content">
            <div> {{ post.content}} </div>
        </section>

    @if(comments$ | async) {    
        <section class="element-comments">
        <h2>Commentaires</h2>
        <ul class="comments-list">
        @for (comment of comments$ | async; track $index) {
            <li>
                <article class="element-comment">
                    <section class="comment-author">
                        {{ comment.author.userName}}
                    </section>
                    <section class="comment-content">
                        {{ comment.content }}
                    </section>
                </article>
            </li>
        }
        </ul>

        @if (form) {
            <form class="comment-form" [formGroup]="form" (ngSubmit)="submit()">   
                <div class="form-comment-content">
                    <mat-form-field>
                        <textarea matInput placeholder="Ã‰crivez ici votre commentaire" formControlName="content"></textarea>
                    </mat-form-field>
                </div>             
                <div class="form-comment-submit">
                    <button mat-icon-button  type="submit" [disabled]="form.invalid"><mat-icon svgIcon="send">Envoyer</mat-icon></button>
                </div>
            </form>
        }

            </section>
        }


    
    </article>
}
