@if ( user$ | async; as user) {
    <div class="user-profile">
        <h1>Profil utilisateur</h1>

        <form class="loggedin-form login-form" [formGroup]="form" (ngSubmit)="updateCurrentUser()">
                <mat-form-field>
                    <mat-label>Nom d'utilisateur</mat-label>
                    <input matInput placeholder="Saisissez ici votre nouveau nom d'utilisateur" formControlName="username">
                </mat-form-field>
                <mat-form-field>
                    <mat-label>Email</mat-label>
                    <input matInput placeholder="Saisissez ici votre nouvelle adresse email" formControlName="email">
                </mat-form-field>
            
            <button mat-flat-button type="submit" [disabled]="form.invalid">Sauvegarder</button>
        </form>

        <a class="logout" (click)="logout()">Se d√©connecter</a>
    </div>

    @if (subscriptions$ | async; as subscriptions) {
        <hr>
        <h2>Abonnements</h2>
        <div class="responsive-grid">
        @for (subscription of subscriptions; track $index) {            
            <app-topic
                [topic]="subscription.topic"
                [subscription]="subscription"
                [loggedIn]="true"
                (unSubscribe)="onUnsubscribe($event)"
            >
            </app-topic>            
        }
        </div>
    }
}
@else {
    <p></p>
}